<!DOCTYPE <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Opret Bruger</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="../css/style.css" />
    <script src="main.js"></script>
</head>
<body>
    <script>
        //variabler
const MongoClient = require('mongodb').MongoClient;
const assert = require('assert');
var brugerNavnInput = document.getElementById("brugernavn");
var brugerPassInput = document.getElementById("kodeord");
var brugerRolleInput = document.getElementById("roller").selectedIndex;

//URL
var url = "mongodb://localhost:27017/";

//Forbindelsen til MongoDB
MongoClient.connect(url,{useNewUrlParser: true}, function(err, db) {
    if (err){throw err};
    var dbo = db.db("dbSprog");
    var myobj = [{username: brugerNavnInput, password: brugerPassInput, privilege: brugerRolleInput}];
    dbo.collection("brugere").insertMany(myobj, function(err, res){
        if (err){throw err};
        console.log("Document inserted");
        db.close();
    });
});
        </script>
    <div id = "opretDiv">
        <input id = "brugernavn" type="email" placeholder="Brugernavn" name="uname" required> 
        <input id = "kodeord" type="password" placeholder="Kodeord" name="psw" required> 
        <select id = "roller"> 
            <option value="default" selected>VÃ¦lg en rolle...</option>
            <option value="Kursist">Kursist</option>
            <option value="Sprogmakker">Sprogmakker</option>
            <option value="Underviser">Underviser</option>
        </select>
        <button id="indsendKnap" type="submit">Opret</button>
    </div>
</body>
</html>